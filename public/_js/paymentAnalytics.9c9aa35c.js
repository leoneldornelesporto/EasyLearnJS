"use strict";var PaymentAnalytics=function(e){var o={};return o.paymentForm=e,o.doAllAnalytics=function(e){var a=o.paymentForm.discountCode();o.paymentForm.isFromInvoice()&&(a="link manual"),ga("require","ec");var n={id:e.paymentId,name:e.invoiceDescription,price:e.price},t={id:e.paymentId,affiliation:e.paymentAnalytics.commercialName,revenue:e.price,shipping:"0",tax:"0"};a&&(n.coupon=a,t.coupon=a),ga("ec:addProduct",n),ga("ec:setAction","purchase",t),ga("send","pageview"),e.paymentAnalytics.production&&(fbq("init",o.paymentForm.paymentInfo.data("facebookpixel")),fbq("track","PageView"),t={currency:"BRL",value:e.price},a&&(t.coupon=a),fbq("track","Purchase",t)),replaceIframeLeadSrc(o.paymentForm.paymentInfo.data("iframeleademailuri")+"/updateLead?leadEmail=<email>&leadAction=purchased"),window.criteo_q=window.criteo_q||[],window.criteo_q.push(buildDataForCriteo(e.paymentId,e.price)),o.adwords(e),o.paymentForm.paymentInfo.data("isCandidoMendes")&&$(".candidoMendes-analitycs").attr("src","https://alura.candidomendes.edu.br/alura-gtm?produto=".concat(o.paymentForm.paymentInfo.data("candidoMendesProductCode")))},o.adwords=function(e){gtag("event","conversion",{send_to:e.paymentAnalytics.googleConversionId+"/"+e.paymentAnalytics.googleConversionLabel,value:e.price,currency:"BRL",transaction_id:e.paymentId})},o.sendFail=function(e){try{ga("send",{hitType:"event",eventCategory:"purchase",eventAction:"failed",eventLabel:e})}catch(e){console.error("could not send error do ga")}},{doAllAnalytics:o.doAllAnalytics,sendFail:o.sendFail}};