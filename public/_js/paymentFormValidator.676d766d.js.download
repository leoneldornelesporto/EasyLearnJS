"use strict";var PaymentFormValidator=function(o){var l={};function e(){return l.paymentForm.inputs.isForeigner.is(":checked")}return l.paymentForm=o,l.errors={name:$(".form-step-error.step-error-name"),email:$(".form-step-error.step-error-email"),cpf:$(".form-step-error.step-error-cpf")},l.isValidName=function(){return o.inputs.name.val().length<2||void 0===o.firstName()||void 0===o.lastName()||255<o.inputs.name.val().length?(l.errors.name.addClass("step-error--visible"),o.inputs.name.addClass("step-input--error"),o.buttons.goToPaymentButton.addClass("step-submit--disabled"),!1):(l.errors.name.removeClass("step-error--visible"),o.inputs.name.removeClass("step-input--error"),o.buttons.goToPaymentButton.removeClass("step-submit--disabled"),!0)},l.isValidEmail=function(){return o.inputs.email.val().match(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)?(l.errors.email.removeClass("step-error--visible"),o.inputs.email.removeClass("step-input--error"),o.buttons.goToPaymentButton.removeClass("step-submit--disabled"),!0):(l.errors.email.addClass("step-error--visible"),o.inputs.email.addClass("step-input--error"),o.buttons.goToPaymentButton.addClass("step-submit--disabled"),!1)},l.isValidCPF=function(){return l.testaCPF()?(l.errors.cpf.removeClass("step-error--visible"),o.inputs.cpf.removeClass("step-input--error"),o.buttons.goToPaymentButton.removeClass("step-submit--disabled"),o.inputs.isForeigner.prop("checked",!1),!0):(l.errors.cpf.addClass("step-error--visible"),o.inputs.cpf.addClass("step-input--error"),o.buttons.goToPaymentButton.addClass("step-submit--disabled"),!1)},l.testaCPF=function(){var e=o.inputs.cpf.val();if(11!==e.length)return!1;if(e.match(/^([0-9])\1{10}$|[^0-9]/))return!1;for(var s=e.substring(0,9).split(""),r=0,t=10,i=0;i<s.length;i++)r+=s[i]*t--;for(var a=l.toCpfDigit(r),i=0;i<s.length;i++)r+=+s[i];r+=2*a;var n=l.toCpfDigit(r);return a.toString()+n.toString()===e.substring(9,11)},l.toCpfDigit=function(e){e%=11;return e<2?0:11-e},l.validateAllFields=function(){var e=!0;return l.isValidName()||(e=!1),l.isValidEmail()||(e=!1),e=l.hasInvalidCPF()?!1:e},l.hasInvalidCPF=function(){return!e()&&!l.isValidCPF(o.inputs.cpf.val())},l.shouldHaveValidCPFOrIsAForeigner=function(){return l.hasValidCpf()||e()},l.hasValidCpf=function(){return!e()&&l.isValidCPF(o.inputs.cpf.val())},{validateAllFields:l.validateAllFields,isValidName:l.isValidName,isValidEmail:l.isValidEmail,isValidCPF:l.isValidCPF,shouldHaveValidCPFOrIsAForeigner:l.shouldHaveValidCPFOrIsAForeigner}};