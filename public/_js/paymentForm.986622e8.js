"use strict";var PaymentForm=function(){var s={};return s.paymentInfo=$(".payment-info"),s.inputs={name:$("#name"),email:$("#userEmail"),cpf:$("#cpf"),phone:$("#phone"),changeEmail:$("#changeEmail"),isForeigner:$("#isForeigner")},s.buttons={goToPaymentButton:$("#form-step-goToPayment"),stepLinkTryAgain:$("#step-link-tryAgain"),stepSubmit:$(".form-step-submit"),completePayment:$("#form-step-completePayment")},s.steps={all:$(".form-progress-step"),first:$(".progress-step-one"),second:$(".progress-step-two"),third:$(".progress-step-three")},s.screens={parent:$(".info-form-steps"),all:$(".info-form-step"),personalInfo:$(".info-form-personalInfo"),paypal:$(".info-form-paypal"),success:$(".info-form-success"),fail:$(".info-form-fail"),failToDelivery:$(".info-form-failToDelivery"),technicalFailure:$(".info-form-technicalFailure"),paypalFailure:$(".info-form-paypalFailure"),iFrameFailure:$(".info-form-iFrameFailure"),comunicationFailure:$(".info-form-comunicationFailure")},s.socialMinerRefresh=function(){if(s.shouldShowSocialMiner)try{console.log("socl.refresh executed!"),void 0!==window.socl&&window.socl.refresh(s.socialMinerId())}catch(e){console.error("socl.refresh error!",e)}},s.socialMinerPurchase=function(){if(s.shouldShowSocialMiner)try{console.log("soclTracking.event purchase executed!"),soclTracking.event("purchase",{Transactional_ID:s.paymentID(),Price_Total:s.totalPrice()})}catch(e){console.error("soclTracking.event purchase error!",e)}},s.resetParent=function(){s.screens.parent.removeClass(),s.screens.parent.addClass("info-form-steps")},s.resetSteps=function(){s.steps.all.removeClass("progress-step--active"),s.steps.all.removeClass("progress-step--done")},s.resetScreens=function(){s.screens.all.removeClass("screen--visible"),s.screens.personalInfo.attr("aria-hidden","true"),s.screens.paypal.attr("aria-hidden","true"),s.screens.success.attr("aria-hidden","true"),s.screens.fail.attr("aria-hidden","true")},s.reset=function(){s.resetParent(),s.resetSteps(),s.resetScreens()},s.goToBegin=function(){s.reset(),s.screens.personalInfo.addClass("screen--visible"),s.screens.personalInfo.attr("aria-hidden","false"),s.socialMinerRefresh()},s.goToPaypalStep=function(){s.reset(),s.steps.first.addClass("progress-step--done"),s.steps.second.addClass("progress-step--active"),s.screens.parent.addClass("currentScreen--paypal"),s.screens.paypal.addClass("screen--visible"),s.screens.paypal.attr("aria-hidden","false"),s.socialMinerRefresh()},s.goToSuccessStep=function(){if(s.reset(),s.steps.first.addClass("progress-step--done"),s.steps.second.addClass("progress-step--done"),s.steps.third.addClass("progress-step--active"),s.screens.parent.addClass("currentScreen--success"),s.screens.success.addClass("screen--visible"),s.screens.success.attr("aria-hidden","false"),s.screens.success.focus(),s.hasGoogleTagManager){try{dataLayer.push({event:"pagamentoOk"})}catch(e){console.error("dataLayer.push[event: pagamentoOk] error!",e)}try{dataLayer.push({event:"purchase",value:s.totalPrice(),items:[{id:s.productCode(),google_business_vertical:"education"}]})}catch(e){console.error("dataLayer.push[event: purchase] error!",e)}}try{s.socialMinerRefresh(),s.socialMinerPurchase()}catch(e){console.error("soclTracking.event purchase error!",e)}},s.goToFailToDelivery=function(){s.reset(),s.steps.first.addClass("progress-step--done"),s.steps.second.addClass("progress-step--done"),s.steps.third.addClass("progress-step--active"),s.screens.parent.addClass("currentScreen--failToDelivery"),s.screens.failToDelivery.addClass("screen--visible"),s.screens.failToDelivery.attr("aria-hidden","false"),s.screens.failToDelivery.focus(),s.socialMinerRefresh()},s.goToFailStep=function(){s.reset(),s.screens.parent.addClass("currentScreen--fail"),s.screens.fail.addClass("screen--visible"),s.screens.fail.attr("aria-hidden","false"),s.screens.fail.focus(),s.socialMinerRefresh()},s.goToTechnicalFailure=function(){s.reset(),s.steps.first.addClass("progress-step--done"),s.steps.second.addClass("progress-step--done"),s.steps.third.addClass("progress-step--active"),s.screens.parent.addClass("currentScreen--technicalFailure"),s.screens.technicalFailure.addClass("screen--visible"),s.screens.technicalFailure.attr("aria-hidden","false"),s.screens.technicalFailure.focus(),s.socialMinerRefresh()},s.goToPaypalFailure=function(){s.reset(),s.steps.first.addClass("progress-step--done"),s.steps.second.addClass("progress-step--done"),s.steps.third.addClass("progress-step--active"),s.screens.parent.addClass("currentScreen--paypalFailure"),s.screens.paypalFailure.addClass("screen--visible"),s.screens.paypalFailure.attr("aria-hidden","false"),s.screens.paypalFailure.focus(),s.socialMinerRefresh()},s.goToComunicationFailure=function(){s.reset(),s.steps.first.addClass("progress-step--done"),s.steps.second.addClass("progress-step--done"),s.steps.third.addClass("progress-step--active"),s.screens.parent.addClass("currentScreen--comunicationFailure"),s.screens.comunicationFailure.addClass("screen--visible"),s.screens.comunicationFailure.attr("aria-hidden","false"),s.screens.comunicationFailure.focus(),s.socialMinerRefresh()},s.goToIFrameFailure=function(){s.reset(),s.steps.first.addClass("progress-step--done"),s.steps.third.addClass("progress-step--active"),s.screens.parent.addClass("currentScreen--iFrameFailure"),s.screens.iFrameFailure.addClass("screen--visible"),s.screens.iFrameFailure.attr("aria-hidden","false"),s.screens.iFrameFailure.focus(),s.socialMinerRefresh()},s.removeLoadingFromPaypalButton=function(){var e=s.buttons.completePayment.data("text");s.buttons.completePayment.text(e),s.buttons.completePayment.removeClass("step-submit--active")},s.addLoadingToPaypalButton=function(){s.buttons.completePayment.addClass("step-submit--active"),s.buttons.completePayment.text("")},s.fullName=function(){return s.inputs.name.val().trim()},s.splitName=function(){return s.fullName().split(/\s+/)},s.firstName=function(){return s.splitName()[0]},s.lastName=function(){var e=s.splitName();return e.shift(),e.join(" ")},s.productName=function(){return $(".security-product-type").text()},s.product=function(){return $(".payment-info").data("product")},s.productId=function(){return $(".payment-info").data("productid")},s.productCode=function(){return $(".payment-info").data("productcode")},s.phone=function(){return s.inputs.phone.val()},s.cpf=function(){return s.inputs.cpf.val()},s.email=function(){return s.inputs.email.val()},s.nameVal=function(){return s.inputs.name.val()},s.showLoadingCover=function(){$(".payment-info-form-cover").addClass("info-form-cover--visible")},s.hideLoadingCover=function(){$(".payment-info-form-cover").removeClass("info-form-cover--visible")},s.paymentID=function(){return $(".payment-info").data("paymentid")},s.discountCode=function(){return $(".payment-info").data("discountcode")},s.hasPaypalError=function(){return $(".payment-info").data("haspaypalerror")},s.usernameIndicate=function(){return $(".payment-info").data("usernameindicate")},s.shouldShowSocialMiner=function(){return $(".payment-info").data("shouldshowsocialminer")},s.socialMinerId=function(){return $(".payment-info").data("socialminerid")},s.totalPrice=function(){return $(".payment-info").data("totalprice")},s.hasGoogleTagManager=$(".payment-info").data("env-supports-gtm"),s.isFromInvoice=function(){return $(".payment-info").data("isfrominvoice")},{paymentId:s.paymentID(),discountCode:s.discountCode,usernameIndicate:s.usernameIndicate(),product:s.product(),productId:s.productId(),productCode:s.productCode(),paymentInfo:s.paymentInfo,inputs:s.inputs,buttons:s.buttons,steps:s.steps,productName:s.productName,fullName:s.fullName,firstName:s.firstName,lastName:s.lastName,phone:s.phone,cpf:s.cpf,email:s.email,goToPaypalStep:s.goToPaypalStep,goToSuccessStep:s.goToSuccessStep,goToBegin:s.goToBegin,goToFailToDelivery:s.goToFailToDelivery,goToFailStep:s.goToFailStep,goToTechnicalFailure:s.goToTechnicalFailure,goToPaypalFailure:s.goToPaypalFailure,goToIFrameFailure:s.goToIFrameFailure,removeLoadingFromPaypalButton:s.removeLoadingFromPaypalButton,addLoadingToPaypalButton:s.addLoadingToPaypalButton,showLoadingCover:s.showLoadingCover,hideLoadingCover:s.hideLoadingCover,hasGoogleTagManager:s.hasGoogleTagManager,hasPaypalError:s.hasPaypalError(),totalPrice:s.totalPrice(),isFromInvoice:s.isFromInvoice}};